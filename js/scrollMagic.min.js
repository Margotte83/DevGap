!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.ScrollMagic=t()}(this,function(){"use strict";var e=function(){o.log(2,"(COMPATIBILITY NOTICE) -> As of ScrollMagic 2.0.0 you need to use 'new ScrollMagic.Controller()' to create a new controller instance. Use 'new ScrollMagic.Scene()' to instance a scene.")};e.version="2.0.5",window.addEventListener("mousewheel",function(){});var t="data-scrollmagic-pin-spacer";e.Controller=function(r){var i,s,a="ScrollMagic.Controller",l="REVERSE",c="PAUSED",d=n.defaults,u=this,g=o.extend({},d,r),f=[],p=!1,h=0,v=c,m=!0,w=0,y=!0,b=function(){g.refreshInterval>0&&(s=window.setTimeout(_,g.refreshInterval))},S=function(){return g.vertical?o.get.scrollTop(g.container):o.get.scrollLeft(g.container)},E=function(){return g.vertical?o.get.height(g.container):o.get.width(g.container)},T=this._setScrollPos=function(e){g.vertical?m?window.scrollTo(o.get.scrollLeft(),e):g.container.scrollTop=e:m?window.scrollTo(e,o.get.scrollTop()):g.container.scrollLeft=e},R=function(){if(y&&p){var e=o.type.Array(p)?p:f.slice(0);p=!1;var t=h,n=(h=u.scrollPos())-t;0!==n&&(v=n>0?"FORWARD":l),v===l&&e.reverse(),e.forEach(function(t,n){O(3,"updating Scene "+(n+1)+"/"+e.length+" ("+f.length+" total)"),t.update(!0)}),0===e.length&&g.loglevel>=3&&O(3,"updating 0 Scenes (nothing added to controller)")}},x=function(){i=o.rAF(R)},C=function(e){O(3,"event fired causing an update:",e.type),"resize"==e.type&&(w=E(),v=c),!0!==p&&(p=!0,x())},_=function(){if(!m&&w!=E()){var e;try{e=new Event("resize",{bubbles:!1,cancelable:!1})}catch(t){(e=document.createEvent("Event")).initEvent("resize",!1,!1)}g.container.dispatchEvent(e)}f.forEach(function(e,t){e.refresh()}),b()},O=this._log=function(e,t){g.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+a+") ->"),o.log.apply(window,arguments))};this._options=g;var I=function(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort(function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1}),t};return this.addScene=function(t){if(o.type.Array(t))t.forEach(function(e,t){u.addScene(e)});else if(t instanceof e.Scene){if(t.controller()!==u)t.addTo(u);else if(f.indexOf(t)<0){f.push(t),f=I(f),t.on("shift.controller_sort",function(){f=I(f)});for(var n in g.globalSceneOptions)t[n]&&t[n].call(t,g.globalSceneOptions[n]);O(3,"adding Scene (now "+f.length+" total)")}}else O(1,"ERROR: invalid argument supplied for '.addScene()'");return u},this.removeScene=function(e){if(o.type.Array(e))e.forEach(function(e,t){u.removeScene(e)});else{var t=f.indexOf(e);t>-1&&(e.off("shift.controller_sort"),f.splice(t,1),O(3,"removing Scene (now "+f.length+" left)"),e.remove())}return u},this.updateScene=function(t,n){return o.type.Array(t)?t.forEach(function(e,t){u.updateScene(e,n)}):n?t.update(!0):!0!==p&&t instanceof e.Scene&&(-1==(p=p||[]).indexOf(t)&&p.push(t),p=I(p),x()),u},this.update=function(e){return C({type:"resize"}),e&&R(),u},this.scrollTo=function(n,r){if(o.type.Number(n))T.call(g.container,n,r);else if(n instanceof e.Scene)n.controller()===u?u.scrollTo(n.scrollOffset(),r):O(2,"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.",n);else if(o.type.Function(n))T=n;else{var i=o.get.elements(n)[0];if(i){for(;i.parentNode.hasAttribute(t);)i=i.parentNode;var s=g.vertical?"top":"left",a=o.get.offset(g.container),l=o.get.offset(i);m||(a[s]-=u.scrollPos()),u.scrollTo(l[s]-a[s],r)}else O(2,"scrollTo(): The supplied argument is invalid. Scroll cancelled.",n)}return u},this.scrollPos=function(e){return arguments.length?(o.type.Function(e)?S=e:O(2,"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'."),u):S.call(u)},this.info=function(e){var t={size:w,vertical:g.vertical,scrollPos:h,scrollDirection:v,container:g.container,isDocument:m};return arguments.length?void 0!==t[e]?t[e]:void O(1,'ERROR: option "'+e+'" is not available'):t},this.loglevel=function(e){return arguments.length?(g.loglevel!=e&&(g.loglevel=e),u):g.loglevel},this.enabled=function(e){return arguments.length?(y!=e&&(y=!!e,u.updateScene(f,!0)),u):y},this.destroy=function(e){window.clearTimeout(s);for(var t=f.length;t--;)f[t].destroy(e);return g.container.removeEventListener("resize",C),g.container.removeEventListener("scroll",C),o.cAF(i),O(3,"destroyed "+a+" (reset: "+(e?"true":"false")+")"),null},function(){for(var t in g)d.hasOwnProperty(t)||(O(2,'WARNING: Unknown option "'+t+'"'),delete g[t]);if(g.container=o.get.elements(g.container)[0],!g.container)throw O(1,"ERROR creating object "+a+": No valid scroll container supplied"),a+" init failed.";(m=g.container===window||g.container===document.body||!document.body.contains(g.container))&&(g.container=window),w=E(),g.container.addEventListener("resize",C),g.container.addEventListener("scroll",C),g.refreshInterval=parseInt(g.refreshInterval)||d.refreshInterval,b(),O(3,"added new "+a+" controller (v"+e.version+")")}(),u};var n={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};e.Controller.addOption=function(e,t){n.defaults[e]=t},e.Controller.extend=function(t){var n=this;e.Controller=function(){return n.apply(this,arguments),this.$super=o.extend({},this),t.apply(this,arguments)||this},o.extend(e.Controller,n),e.Controller.prototype=n.prototype,e.Controller.prototype.constructor=e.Controller},e.Scene=function(n){var i,s,a="ScrollMagic.Scene",l="BEFORE",c="DURING",d="AFTER",u=r.defaults,g=this,f=o.extend({},u,n),p=l,h=0,v={start:0,end:0},m=0,w=!0,y={};this.on=function(e,t){return o.type.Function(t)?(e=e.trim().split(" ")).forEach(function(e){var n=e.split("."),r=n[0],o=n[1];"*"!=r&&(y[r]||(y[r]=[]),y[r].push({namespace:o||"",callback:t}))}):b(1,"ERROR when calling '.on()': Supplied callback for '"+e+"' is not a valid function!"),g},this.off=function(e,t){return e?((e=e.trim().split(" ")).forEach(function(e,n){var r=e.split("."),o=r[0],i=r[1]||"";("*"===o?Object.keys(y):[o]).forEach(function(e){for(var n=y[e]||[],r=n.length;r--;){var o=n[r];!o||i!==o.namespace&&"*"!==i||t&&t!=o.callback||n.splice(r,1)}n.length||delete y[e]})}),g):(b(1,"ERROR: Invalid event name supplied."),g)},this.trigger=function(t,n){if(t){var r=t.trim().split("."),o=r[0],i=r[1],s=y[o];b(3,"event fired:",o,n?"->":"",n||""),s&&s.forEach(function(t,r){i&&i!==t.namespace||t.callback.call(g,new e.Event(o,t.namespace,g,n))})}else b(1,"ERROR: Invalid event name supplied.");return g},g.on("change.internal",function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?x():"reverse"===e.what&&g.update())}).on("shift.internal",function(e){T(),g.update()});var b=this._log=function(e,t){f.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+a+") ->"),o.log.apply(window,arguments))};this.addTo=function(t){return t instanceof e.Controller?s!=t&&(s&&s.removeScene(g),s=t,O(),R(!0),x(!0),T(),s.info("container").addEventListener("resize",C),t.addScene(g),g.trigger("add",{controller:s}),b(3,"added "+a+" to controller"),g.update()):b(1,"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic Controller"),g},this.enabled=function(e){return arguments.length?(w!=e&&(w=!!e,g.update(!0)),g):w},this.remove=function(){if(s){s.info("container").removeEventListener("resize",C);var e=s;s=void 0,e.removeScene(g),g.trigger("remove"),b(3,"removed "+a+" from controller")}return g},this.destroy=function(e){return g.trigger("destroy",{reset:e}),g.remove(),g.off("*.*"),b(3,"destroyed "+a+" (reset: "+(e?"true":"false")+")"),null},this.update=function(e){if(s)if(e)if(s.enabled()&&w){var t,n=s.info("scrollPos");t=f.duration>0?(n-v.start)/(v.end-v.start):n>=v.start?1:0,g.trigger("update",{startPos:v.start,endPos:v.end,scrollPos:n}),g.progress(t)}else S&&p===c&&P(!0);else s.updateScene(g,!1);return g},this.refresh=function(){return R(),x(),g},this.progress=function(e){if(arguments.length){var t=!1,n=p,r=s?s.info("scrollDirection"):"PAUSED",o=f.reverse||e>=h;if(0===f.duration?(t=h!=e,p=0===(h=e<1&&o?0:1)?l:c):e<0&&p!==l&&o?(h=0,p=l,t=!0):e>=0&&e<1&&o?(h=e,p=c,t=!0):e>=1&&p!==d?(h=1,p=d,t=!0):p!==c||o||P(),t){var i={progress:h,state:p,scrollDirection:r},a=p!=n,u=function(e){g.trigger(e,i)};a&&n!==c&&(u("enter"),u(n===l?"start":"end")),u("progress"),a&&p!==c&&(u(p===l?"start":"end"),u("leave"))}return g}return h};var S,E,T=function(){v={start:m+f.offset},s&&f.triggerElement&&(v.start-=s.info("size")*f.triggerHook),v.end=v.start+f.duration},R=function(e){if(i){var t="duration";I(t,i.call(g))&&!e&&(g.trigger("change",{what:t,newval:f[t]}),g.trigger("shift",{reason:t}))}},x=function(e){var n=0,r=f.triggerElement;if(s&&r){for(var i=s.info(),a=o.get.offset(i.container),l=i.vertical?"top":"left";r.parentNode.hasAttribute(t);)r=r.parentNode;var c=o.get.offset(r);i.isDocument||(a[l]-=s.scrollPos()),n=c[l]-a[l]}var d=n!=m;m=n,d&&!e&&g.trigger("shift",{reason:"triggerElementPosition"})},C=function(e){f.triggerHook>0&&g.trigger("shift",{reason:"containerResize"})},_=o.extend(r.validate,{duration:function(e){if(o.type.String(e)&&e.match(/^(\.|\d)*\d+%$/)){var t=parseFloat(e)/100;e=function(){return s?s.info("size")*t:0}}if(o.type.Function(e)){i=e;try{e=parseFloat(i())}catch(t){e=-1}}if(e=parseFloat(e),!o.type.Number(e)||e<0)throw i?(i=void 0,['Invalid return value of supplied function for option "duration":',e]):['Invalid value for option "duration":',e];return e}}),O=function(e){(e=arguments.length?[e]:Object.keys(_)).forEach(function(e,t){var n;if(_[e])try{n=_[e](f[e])}catch(t){n=u[e];var r=o.type.String(t)?[t]:t;o.type.Array(r)?(r[0]="ERROR: "+r[0],r.unshift(1),b.apply(this,r)):b(1,"ERROR: Problem executing validation callback for option '"+e+"':",t.message)}finally{f[e]=n}})},I=function(e,t){var n=!1,r=f[e];return f[e]!=t&&(f[e]=t,O(e),n=r!=f[e]),n},L=function(e){g[e]||(g[e]=function(t){return arguments.length?("duration"===e&&(i=void 0),I(e,t)&&(g.trigger("change",{what:e,newval:f[e]}),r.shifts.indexOf(e)>-1&&g.trigger("shift",{reason:e})),g):f[e]})};this.controller=function(){return s},this.state=function(){return p},this.scrollOffset=function(){return v.start},this.triggerPosition=function(){var e=f.offset;return s&&(f.triggerElement?e+=m:e+=s.info("size")*g.triggerHook()),e},g.on("shift.internal",function(e){var t="duration"===e.reason;(p===d&&t||p===c&&0===f.duration)&&P(),t&&z()}).on("progress.internal",function(e){P()}).on("add.internal",function(e){z()}).on("destroy.internal",function(e){g.removePin(e.reset)});var P=function(e){if(S&&s){var t=s.info(),n=E.spacer.firstChild;if(e||p!==c){var r={position:E.inFlow?"relative":"absolute",top:0,left:0},i=o.css(n,"position")!=r.position;E.pushFollowers?f.duration>0&&(p===d&&0===parseFloat(o.css(E.spacer,"padding-top"))?i=!0:p===l&&0===parseFloat(o.css(E.spacer,"padding-bottom"))&&(i=!0)):r[t.vertical?"top":"left"]=f.duration*h,o.css(n,r),i&&z()}else{"fixed"!=o.css(n,"position")&&(o.css(n,{position:"fixed"}),z());var a=o.get.offset(E.spacer,!0),u=f.reverse||0===f.duration?t.scrollPos-v.start:Math.round(h*f.duration*10)/10;a[t.vertical?"top":"left"]+=u,o.css(E.spacer.firstChild,{top:a.top,left:a.left})}}},z=function(){if(S&&s&&E.inFlow){var e=p===c,t=s.info("vertical"),n=E.spacer.firstChild,r=o.isMarginCollapseType(o.css(E.spacer,"display")),i={};E.relSize.width||E.relSize.autoFullWidth?e?o.css(S,{width:o.get.width(E.spacer)}):o.css(S,{width:"100%"}):(i["min-width"]=o.get.width(t?S:n,!0,!0),i.width=e?i["min-width"]:"auto"),E.relSize.height?e?o.css(S,{height:o.get.height(E.spacer)-(E.pushFollowers?f.duration:0)}):o.css(S,{height:"100%"}):(i["min-height"]=o.get.height(t?n:S,!0,!r),i.height=e?i["min-height"]:"auto"),E.pushFollowers&&(i["padding"+(t?"Top":"Left")]=f.duration*h,i["padding"+(t?"Bottom":"Right")]=f.duration*(1-h)),o.css(E.spacer,i)}},G=function(){s&&S&&p===c&&!s.info("isDocument")&&P()},M=function(){s&&S&&p===c&&((E.relSize.width||E.relSize.autoFullWidth)&&o.get.width(window)!=o.get.width(E.spacer.parentNode)||E.relSize.height&&o.get.height(window)!=o.get.height(E.spacer.parentNode))&&z()},A=function(e){s&&S&&p===c&&!s.info("isDocument")&&(e.preventDefault(),s._setScrollPos(s.info("scrollPos")-((e.wheelDelta||e[s.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-e.detail)))};this.setPin=function(e,n){if(n=o.extend({},{pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},n),!(e=o.get.elements(e)[0]))return b(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),g;if("fixed"===o.css(e,"position"))return b(1,"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."),g;if(S){if(S===e)return g;g.removePin()}var r=(S=e).parentNode.style.display,i=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];S.parentNode.style.display="none";var s="absolute"!=o.css(S,"position"),a=o.css(S,i.concat(["display"])),l=o.css(S,["width","height"]);S.parentNode.style.display=r,!s&&n.pushFollowers&&(b(2,"WARNING: If the pinned element is positioned absolutely pushFollowers will be disabled."),n.pushFollowers=!1),window.setTimeout(function(){S&&0===f.duration&&n.pushFollowers&&b(2,"WARNING: pushFollowers =",!0,"has no effect, when scene duration is 0.")},0);var c=S.parentNode.insertBefore(document.createElement("div"),S),d=o.extend(a,{position:s?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(s||o.extend(d,o.css(S,["width","height"])),o.css(c,d),c.setAttribute(t,""),o.addClass(c,n.spacerClass),E={spacer:c,relSize:{width:"%"===l.width.slice(-1),height:"%"===l.height.slice(-1),autoFullWidth:"auto"===l.width&&s&&o.isMarginCollapseType(a.display)},pushFollowers:n.pushFollowers,inFlow:s},!S.___origStyle){S.___origStyle={};var u=S.style;i.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach(function(e){S.___origStyle[e]=u[e]||""})}return E.relSize.width&&o.css(c,{width:l.width}),E.relSize.height&&o.css(c,{height:l.height}),c.appendChild(S),o.css(S,{position:s?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(E.relSize.width||E.relSize.autoFullWidth)&&o.css(S,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",G),window.addEventListener("resize",G),window.addEventListener("resize",M),S.addEventListener("mousewheel",A),S.addEventListener("DOMMouseScroll",A),b(3,"added pin"),P(),g},this.removePin=function(e){if(S){if(p===c&&P(!0),e||!s){var n=E.spacer.firstChild;if(n.hasAttribute(t)){var r=E.spacer.style;margins={},["margin","marginLeft","marginRight","marginTop","marginBottom"].forEach(function(e){margins[e]=r[e]||""}),o.css(n,margins)}E.spacer.parentNode.insertBefore(n,E.spacer),E.spacer.parentNode.removeChild(E.spacer),S.parentNode.hasAttribute(t)||(o.css(S,S.___origStyle),delete S.___origStyle)}window.removeEventListener("scroll",G),window.removeEventListener("resize",G),window.removeEventListener("resize",M),S.removeEventListener("mousewheel",A),S.removeEventListener("DOMMouseScroll",A),S=void 0,b(3,"removed pin (reset: "+(e?"true":"false")+")")}return g};var F,N=[];return g.on("destroy.internal",function(e){g.removeClassToggle(e.reset)}),this.setClassToggle=function(e,t){var n=o.get.elements(e);return 0!==n.length&&o.type.String(t)?(N.length>0&&g.removeClassToggle(),F=t,N=n,g.on("enter.internal_class leave.internal_class",function(e){var t="enter"===e.type?o.addClass:o.removeClass;N.forEach(function(e,n){t(e,F)})}),g):(b(1,"ERROR calling method 'setClassToggle()': Invalid "+(0===n.length?"element":"classes")+" supplied."),g)},this.removeClassToggle=function(e){return e&&N.forEach(function(e,t){o.removeClass(e,F)}),g.off("start.internal_class end.internal_class"),F=void 0,N=[],g},function(){for(var e in f)u.hasOwnProperty(e)||(b(2,'WARNING: Unknown option "'+e+'"'),delete f[e]);for(var t in u)L(t);O()}(),g};var r={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!o.type.Number(e))throw['Invalid value for option "offset":',e];return e},triggerElement:function(e){if(e=e||void 0){var t=o.get.elements(e)[0];if(!t)throw['Element defined in option "triggerElement" was not found:',e];e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(o.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw['Invalid value for option "triggerHook": ',e];e=t[e]}return e},reverse:function(e){return!!e},loglevel:function(e){if(e=parseInt(e),!o.type.Number(e)||e<0||e>3)throw['Invalid value for option "loglevel":',e];return e}},shifts:["duration","offset","triggerHook"]};e.Scene.addOption=function(t,n,o,i){t in r.defaults?e._util.log(1,"[static] ScrollMagic.Scene -> Cannot add Scene option '"+t+"', because it already exists."):(r.defaults[t]=n,r.validate[t]=o,i&&r.shifts.push(t))},e.Scene.extend=function(t){var n=this;e.Scene=function(){return n.apply(this,arguments),this.$super=o.extend({},this),t.apply(this,arguments)||this},o.extend(e.Scene,n),e.Scene.prototype=n.prototype,e.Scene.prototype.constructor=e.Scene},e.Event=function(e,t,n,r){r=r||{};for(var o in r)this[o]=r[o];return this.type=e,this.target=this.currentTarget=n,this.namespace=t||"",this.timeStamp=this.timestamp=Date.now(),this};var o=e._util=function(e){var t,n={},r=function(e){return parseFloat(e)||0},o=function(t){return t.currentStyle?t.currentStyle:e.getComputedStyle(t)},i=function(t,n,i,s){if((n=n===document?e:n)===e)s=!1;else if(!p.DomElement(n))return 0;t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();var a=(i?n["offset"+t]||n["outer"+t]:n["client"+t]||n["inner"+t])||0;if(i&&s){var l=o(n);a+="Height"===t?r(l.marginTop)+r(l.marginBottom):r(l.marginLeft)+r(l.marginRight)}return a},s=function(e){return e.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})};n.extend=function(e){for(e=e||{},t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},n.isMarginCollapseType=function(e){return["block","flex","list-item","table","-webkit-box"].indexOf(e)>-1};var a=0,l=["ms","moz","webkit","o"],c=e.requestAnimationFrame,d=e.cancelAnimationFrame;for(t=0;!c&&t<l.length;++t)c=e[l[t]+"RequestAnimationFrame"],d=e[l[t]+"CancelAnimationFrame"]||e[l[t]+"CancelRequestAnimationFrame"];c||(c=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-a)),o=e.setTimeout(function(){t(n+r)},r);return a=n+r,o}),d||(d=function(t){e.clearTimeout(t)}),n.rAF=c.bind(e),n.cAF=d.bind(e);var u=["error","warn","log"],g=e.console||{};for(g.log=g.log||function(){},t=0;t<u.length;t++){var f=u[t];g[f]||(g[f]=g.log)}n.log=function(e){(e>u.length||e<=0)&&(e=u.length);var t=new Date,n=("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+":"+("00"+t.getMilliseconds()).slice(-3),r=u[e-1],o=Array.prototype.splice.call(arguments,1),i=Function.prototype.bind.call(g[r],g);o.unshift(n),i.apply(g,o)};var p=n.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};p.String=function(e){return"string"===p(e)},p.Function=function(e){return"function"===p(e)},p.Array=function(e){return Array.isArray(e)},p.Number=function(e){return!p.Array(e)&&e-parseFloat(e)+1>=0},p.DomElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var h=n.get={};return h.elements=function(t){var n=[];if(p.String(t))try{t=document.querySelectorAll(t)}catch(e){return n}if("nodelist"===p(t)||p.Array(t))for(var r=0,o=n.length=t.length;r<o;r++){var i=t[r];n[r]=p.DomElement(i)?i:h.elements(i)}else(p.DomElement(t)||t===document||t===e)&&(n=[t]);return n},h.scrollTop=function(t){return t&&"number"==typeof t.scrollTop?t.scrollTop:e.pageYOffset||0},h.scrollLeft=function(t){return t&&"number"==typeof t.scrollLeft?t.scrollLeft:e.pageXOffset||0},h.width=function(e,t,n){return i("width",e,t,n)},h.height=function(e,t,n){return i("height",e,t,n)},h.offset=function(e,t){var n={top:0,left:0};if(e&&e.getBoundingClientRect){var r=e.getBoundingClientRect();n.top=r.top,n.left=r.left,t||(n.top+=h.scrollTop(),n.left+=h.scrollLeft())}return n},n.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)},n.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},n.css=function(e,t){if(p.String(t))return o(e)[s(t)];if(p.Array(t)){var n={},r=o(e);return t.forEach(function(e,t){n[e]=r[s(e)]}),n}for(var i in t){var a=t[i];a==parseFloat(a)&&(a+="px"),e.style[s(i)]=a}},n}(window||{});return e.Scene.prototype.addIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling addIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.removeIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.setTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.removeTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.setVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e.Scene.prototype.removeVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e}),function(e,t){"function"==typeof define&&define.amd?define(["ScrollMagic","TweenMax","TimelineMax"],t):"object"==typeof exports?(require("gsap"),t(require("scrollmagic"),TweenMax,TimelineMax)):t(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic,e.TweenMax||e.TweenLite,e.TimelineMax||e.TimelineLite)}(this,function(e,t,n){"use strict";var r="animation.gsap",o=window.console||{},i=Function.prototype.bind.call(o.error||o.log||function(){},o);e||i("("+r+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs."),t||i("("+r+") -> ERROR: TweenLite or TweenMax could not be found. Please make sure GSAP is loaded before ScrollMagic or use an asynchronous loader like requirejs."),e.Scene.addOption("tweenChanges",!1,function(e){return!!e}),e.Scene.extend(function(){var e,o=this,i=function(){o._log&&(Array.prototype.splice.call(arguments,1,0,"("+r+")","->"),o._log.apply(this,arguments))};o.on("progress.plugin_gsap",function(){s()}),o.on("destroy.plugin_gsap",function(e){o.removeTween(e.reset)});var s=function(){if(e){var t=o.progress(),n=o.state();e.repeat&&-1===e.repeat()?"DURING"===n&&e.paused()?e.play():"DURING"===n||e.paused()||e.pause():t!=e.progress()&&(0===o.duration()?t>0?e.play():e.reverse():o.tweenChanges()&&e.tweenTo?e.tweenTo(t*e.duration()):e.progress(t).pause())}};o.setTween=function(r,a,l){var c;arguments.length>1&&(arguments.length<3&&(l=a,a=1),r=t.to(r,a,l));try{(c=n?new n({smoothChildTiming:!0}).add(r):r).pause()}catch(e){return i(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenObject"),o}if(e&&o.removeTween(),e=c,r.repeat&&-1===r.repeat()&&(e.repeat(-1),e.yoyo(r.yoyo())),o.tweenChanges()&&!e.tweenTo&&i(2,"WARNING: tweenChanges will only work if the TimelineMax object is available for ScrollMagic."),e&&o.controller()&&o.triggerElement()&&o.loglevel()>=2){var d=t.getTweensOf(o.triggerElement()),u=o.controller().info("vertical");d.forEach(function(e,t){var n=e.vars.css||e.vars;if(u?void 0!==n.top||void 0!==n.bottom:void 0!==n.left||void 0!==n.right)return i(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),!1})}if(parseFloat(TweenLite.version)>=1.14)for(var g,f,p=e.getChildren?e.getChildren(!0,!0,!1):[e],h=function(){i(2,"WARNING: tween was overwritten by another. To learn how to avoid this issue see here: https://github.com/janpaepke/ScrollMagic/wiki/WARNING:-tween-was-overwritten-by-another")},v=0;v<p.length;v++)g=p[v],f!==h&&(f=g.vars.onOverwrite,g.vars.onOverwrite=function(){f&&f.apply(this,arguments),h.apply(this,arguments)});return i(3,"added tween"),s(),o},o.removeTween=function(t){return e&&(t&&e.progress(0).pause(),e.kill(),e=void 0,i(3,"removed tween (reset: "+(t?"true":"false")+")")),o}})}),function(e,t){"function"==typeof define&&define.amd?define(["ScrollMagic"],t):"object"==typeof exports?t(require("scrollmagic")):t(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic)}(this,function(e){"use strict";var t="debug.addIndicators",n=window.console||{},r=Function.prototype.bind.call(n.error||n.log||function(){},n);e||r("("+t+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs.");var o=e._util,i=0;e.Scene.extend(function(){var e,t=this;t.addIndicators=function(n){if(!e){var r={name:"",indent:0,parent:void 0,colorStart:"green",colorEnd:"red",colorTrigger:"blue"};n=o.extend({},r,n),i++,e=new s(t,n),t.on("add.plugin_addIndicators",e.add),t.on("remove.plugin_addIndicators",e.remove),t.on("destroy.plugin_addIndicators",t.removeIndicators),t.controller()&&e.add()}return t},t.removeIndicators=function(){return e&&(e.remove(),this.off("*.plugin_addIndicators"),e=void 0),t}}),e.Controller.addOption("addIndicators",!1),e.Controller.extend(function(){var n=this,r=n.info(),i=r.container,s=r.isDocument,a=r.vertical,l={groups:[]};n._indicators&&function(){n._log&&(Array.prototype.splice.call(arguments,1,0,"("+t+")","->"),n._log.apply(this,arguments))}(2,"WARNING: Scene already has a property '_indicators', which will be overwritten by plugin."),this._indicators=l;var c=function(){l.updateBoundsPositions()},d=function(){l.updateTriggerGroupPositions()};return i.addEventListener("resize",d),s||(window.addEventListener("resize",d),window.addEventListener("scroll",d)),i.addEventListener("resize",c),i.addEventListener("scroll",c),this._indicators.updateBoundsPositions=function(e){for(var t,n,r,s=e?[o.extend({},e.triggerGroup,{members:[e]})]:l.groups,c=s.length,d={},u=a?"left":"top",g=a?"width":"height",f=a?o.get.scrollLeft(i)+o.get.width(i)-15:o.get.scrollTop(i)+o.get.height(i)-15;c--;)for(t=(r=s[c]).members.length,n=o.get[g](r.element.firstChild);t--;)d[u]=f-n,o.css(r.members[t].bounds,d)},this._indicators.updateTriggerGroupPositions=function(e){for(var t,r,c,d,u=e?[e]:l.groups,g=u.length,f=s?document.body:i,p=s?{top:0,left:0}:o.get.offset(f,!0),h=a?o.get.width(i)-15:o.get.height(i)-15,v=a?"width":"height",m=a?"Y":"X";g--;)r=(t=u[g]).element,d=(c=t.triggerHook*n.info("size"))>o.get[v](r.firstChild.firstChild)?"translate"+m+"(-100%)":"",o.css(r,{top:p.top+(a?c:h-t.members[0].options.indent),left:p.left+(a?h-t.members[0].options.indent:c)}),o.css(r.firstChild.firstChild,{"-ms-transform":d,"-webkit-transform":d,transform:d})},this._indicators.updateTriggerGroupLabel=function(e){var t="trigger"+(e.members.length>1?"":" "+e.members[0].options.name),n=e.element.firstChild.firstChild;n.textContent!==t&&(n.textContent=t,a&&l.updateBoundsPositions())},this.addScene=function(t){this._options.addIndicators&&t instanceof e.Scene&&t.controller()===n&&t.addIndicators(),this.$super.addScene.apply(this,arguments)},this.destroy=function(){i.removeEventListener("resize",d),s||(window.removeEventListener("resize",d),window.removeEventListener("scroll",d)),i.removeEventListener("resize",c),i.removeEventListener("scroll",c),this.$super.destroy.apply(this,arguments)},n});var s=function(e,n){var r,s,l=this,c=a.bounds(),d=a.start(n.colorStart),u=a.end(n.colorEnd),g=n.parent&&o.get.elements(n.parent)[0],f=function(){e._log&&(Array.prototype.splice.call(arguments,1,0,"("+t+")","->"),e._log.apply(this,arguments))};n.name=n.name||i,d.firstChild.textContent+=" "+n.name,u.textContent+=" "+n.name,c.appendChild(d),c.appendChild(u),l.options=n,l.bounds=c,l.triggerGroup=void 0,this.add=function(){s=e.controller(),r=s.info("vertical");var t=s.info("isDocument");g||(g=t?document.body:s.info("container")),t||"static"!==o.css(g,"position")||o.css(g,{position:"relative"}),e.on("change.plugin_addIndicators",h),e.on("shift.plugin_addIndicators",p),y(),m(),setTimeout(function(){s._indicators.updateBoundsPositions(l)},0),f(3,"added indicators")},this.remove=function(){if(l.triggerGroup){if(e.off("change.plugin_addIndicators",h),e.off("shift.plugin_addIndicators",p),l.triggerGroup.members.length>1){var t=l.triggerGroup;t.members.splice(t.members.indexOf(l),1),s._indicators.updateTriggerGroupLabel(t),s._indicators.updateTriggerGroupPositions(t),l.triggerGroup=void 0}else w();v(),f(3,"removed indicators")}};var p=function(){m()},h=function(e){"triggerHook"===e.what&&y()},v=function(){c.parentNode.removeChild(c)},m=function(){var t;c.parentNode!==g&&(t=s.info("vertical"),o.css(d.firstChild,{"border-bottom-width":t?1:0,"border-right-width":t?0:1,bottom:t?-1:n.indent,right:t?n.indent:-1,padding:t?"0 8px":"2px 4px"}),o.css(u,{"border-top-width":t?1:0,"border-left-width":t?0:1,top:t?"100%":"",right:t?n.indent:"",bottom:t?"":n.indent,left:t?"":"100%",padding:t?"0 8px":"2px 4px"}),g.appendChild(c));var i={};i[r?"top":"left"]=e.triggerPosition(),i[r?"height":"width"]=e.duration(),o.css(c,i),o.css(u,{display:e.duration()>0?"":"none"})},w=function(){s._indicators.groups.splice(s._indicators.groups.indexOf(l.triggerGroup),1),l.triggerGroup.element.parentNode.removeChild(l.triggerGroup.element),l.triggerGroup=void 0},y=function(){var t=e.triggerHook();if(!(l.triggerGroup&&Math.abs(l.triggerGroup.triggerHook-t)<1e-4)){for(var i,c=s._indicators.groups,d=c.length;d--;)if(i=c[d],Math.abs(i.triggerHook-t)<1e-4)return l.triggerGroup&&(1===l.triggerGroup.members.length?w():(l.triggerGroup.members.splice(l.triggerGroup.members.indexOf(l),1),s._indicators.updateTriggerGroupLabel(l.triggerGroup),s._indicators.updateTriggerGroupPositions(l.triggerGroup))),i.members.push(l),l.triggerGroup=i,void s._indicators.updateTriggerGroupLabel(i);if(l.triggerGroup){if(1===l.triggerGroup.members.length)return l.triggerGroup.triggerHook=t,void s._indicators.updateTriggerGroupPositions(l.triggerGroup);l.triggerGroup.members.splice(l.triggerGroup.members.indexOf(l),1),s._indicators.updateTriggerGroupLabel(l.triggerGroup),s._indicators.updateTriggerGroupPositions(l.triggerGroup),l.triggerGroup=void 0}!function(){var t=a.trigger(n.colorTrigger),i={};i[r?"right":"bottom"]=0,i[r?"border-top-width":"border-left-width"]=1,o.css(t.firstChild,i),o.css(t.firstChild.firstChild,{padding:r?"0 8px 3px 8px":"3px 4px"}),document.body.appendChild(t);var c={triggerHook:e.triggerHook(),element:t,members:[l]};s._indicators.groups.push(c),l.triggerGroup=c,s._indicators.updateTriggerGroupLabel(c),s._indicators.updateTriggerGroupPositions(c)}()}}},a={start:function(e){var t=document.createElement("div");t.textContent="start",o.css(t,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e});var n=document.createElement("div");return o.css(n,{position:"absolute",overflow:"visible",width:0,height:0}),n.appendChild(t),n},end:function(e){var t=document.createElement("div");return t.textContent="end",o.css(t,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),t},bounds:function(){var e=document.createElement("div");return o.css(e,{position:"absolute",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":"0.85em"}),e.style.zIndex="9999",e},trigger:function(e){var t=document.createElement("div");t.textContent="trigger",o.css(t,{position:"relative"});var n=document.createElement("div");o.css(n,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),n.appendChild(t);var r=document.createElement("div");return o.css(r,{position:"fixed",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":"0.85em"}),r.style.zIndex="9999",r.appendChild(n),r}}});